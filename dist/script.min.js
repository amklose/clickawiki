!function(){angular.module("clickawiki",[])}(),function(){angular.module("clickawiki").constant("constants",{useWebServer:!1,firebaseURL:"https://apiwiki.firebaseio.com",headerTitle:"Clickawiki",defaultDeleteMessage:"Are you sure you want to delete this? ",types:["ArrayList","Boolean","Character","Double","Integer","Number","Object","String","Void"],path:{templatePath:"/assets/templates/"},sortMessage:{"default":"",a:"ascending",d:"descending"},auth:{email:"admin@admin.com"},popUpDeleteSettings:{title:"Are you sure?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#5cb85c",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",closeOnConfirm:!1,closeOnCancel:!1},loginPromptSettings:{title:"Login",text:"Please provide your access code:",type:"input",inputType:"password",showCancelButton:!0,closeOnConfirm:!1,animation:"slide-from-top",inputValue:"click",inputPlaceholder:"Acess code..."}})}(),function(){function e(e,t){function a(){}function o(e){return e.unauth()}function n(t){return t===!1?!1:""===t?(swal.showInputError("You need to enter your access code!"),!1):(swal.close(),void s(e.getRef(),null,t))}function s(e,a,o,n){if(n)e.authWithCustomToken(n,l);else{a=a||t.auth.email;var s={};s.email=a,s.password=o,e.authWithPassword(s,l)}}function l(e,t){e&&(swal("Login Failure",e,"error"),console.log(e))}return{loginPrompt:n,getAuth:a,logout:o,login:s}}angular.module("clickawiki").factory("authFactory",e),e.$inject=["firebaseFactory","constants"]}(),function(){function e(){function e(e){return{name:e}}function t(t,a){t.push(e(a),n)}function a(e,t){e.child(t).remove(n)}function o(e,t,a){e.child(t).update(a,n)}function n(e){return e?console.log(e):!0}return{addClass:t,removeClass:a,updateClass:o,makeNewClass:e}}angular.module("clickawiki").factory("classFactory",e),e.$inject=[]}(),function(){function e(e){function t(){return o}function a(e){o.set(e,function(e){return e||"complete"})}var o=new Firebase(e.firebaseURL);return{getRef:t,update:a}}angular.module("clickawiki").factory("firebaseFactory",e),e.$inject=["constants"]}(),function(){function e(e){function t(e){return e&&13===e.keyCode?!0:!1}function a(t,a,o){var n=e.popUpDeleteSettings;t=a?e.defaultDeleteMessage+"("+t+")":t,t=t||e.defaultDeleteMessage,n.text=t,swal(n,function(e){e?(swal("Deleted!","","success"),o(!0)):(swal("Cancelled","you've stopped it!","error"),o())})}function o(e,t){var a=[],o={};return angular.forEach(e,function(e,t){var a=e;e.key=t,this.push(a)},a),a.sort(function(e,a){if(e&&a&&e.name&&a.name){var o=e.name.toLowerCase(),n=a.name.toLowerCase();return"ascending"===t?n>o?-1:o>n?1:0:"descending"===t?o>n?-1:n>o?1:0:0}}),angular.forEach(a,function(e,t){o[t]=e}),o}return{checkForEnterPress:t,confirmDelete:a,sortList:o}}angular.module("clickawiki").factory("helperFactory",e),e.$inject=["constants"]}(),function(){function e(){function e(e,t,a){e.child(t).child("methods").push(a,o)}function t(e,t,a){e.child(t).child("methods").child(a).remove(o)}function a(e,t,a,n){e.child(t).child("methods").child(a).set(n,o)}function o(e){return e?console.log(e):!0}return{addMethod:e,removeMethod:t,updateMethod:a}}angular.module("clickawiki").factory("methodFactory",e),e.$inject=[]}(),function(){function e(e,t,a,o,n,s,l){function r(e){return e.preventDefault(),l.logout(A)}function i(e){e.preventDefault(),swal(t.loginPromptSettings,l.loginPrompt)}function c(t){e(function(){L.allClasses=t.val()||{}})}function u(e){e&&(o.addClass(A,e),L.newClassName="")}function d(e){function t(t){t&&e&&(o.removeClass(A,e),L.selectedClass=null)}s.confirmDelete("",!1,t)}function f(e){e&&e.val.name.length>0&&o.updateClass(A,e.key,e.val)}function m(e){console.log("Searching for '"+e+"'")}function h(e,t){L.formTitleText="New",L.selectedClass={},L.selectedClass.key=e,L.selectedClass.val=t,L.setEditClassName(!1),L.editModeActive=!1,F(),angular.element(document).find(".panel-collapse").removeClass("in")}function g(e){L.editModeActive?(L.editModeActive=!1,n.updateMethod(A,L.selectedClass.key,L.editMethodKey,e)):(n.addMethod(A,L.selectedClass.key,e),L.method={},L.method.returnType="Return type"),L.displayMethodForm=!1}function p(e,t){function a(t){t&&n.removeMethod(A,L.selectedClass.key,e)}t.stopPropagation(),e&&s.confirmDelete("","",a)}function v(e,t,a){a.stopPropagation(),L.displayMethodForm=!0,L.formTitleText="Edit",L.method=t,L.editModeActive=!0,L.editMethodKey=e}function y(){L.method.attributes=L.method.attributes||[],L.method.attributes.push({})}function k(e,t,a){e.preventDefault(),L.method.attributes&&L.method.attributes.splice(t,1)}function w(e,t,a){return s.checkForEnterPress(e)?a(t):!1}function C(e){return L.editClass=e}function b(){L.editModeActive=!1,L.formTitleText="New",F(),L.displayMethodForm=!L.displayMethodForm}function M(){L.displayMethodForm=!1,L.formTitleText="New",F()}function F(){L.method={},L.method.returnType="Return type",L.method.attributes=[],L.displayMethodForm=!1}function T(e){var a=L.allClasses[L.selectedClass.key].methods;switch(e){case t.sortMessage["default"]:L.sortMessage=t.sortMessage["default"],A.once("value",c);break;case t.sortMessage.a:L.sortMessage=t.sortMessage.a,L.allClasses[L.selectedClass.key].methods=s.sortList(a,t.sortMessage.a);break;case t.sortMessage.d:L.sortMessage=t.sortMessage.d,L.allClasses[L.selectedClass.key].methods=s.sortList(a,t.sortMessage.d)}}var L=this,A=a.getRef();if(L.headerTitle=t.headerTitle,L.returnTypes=t.types,L.formTitleText="New",L.editModeActive=!1,L.isLoggedIn=!1,L.sortMessage=t.sortMessage["default"],L.allClasses=[],A.on("value",c),A.onAuth(function(t){e(function(){L.isLoggedIn=t?!0:!1,localStorage&&t&&localStorage.setItem("cw_token",t.token)})}),localStorage&&localStorage.getItem("cw_token")){var P=localStorage.getItem("cw_token");l.login(A,null,null,P)}L.addNewClass=u,L.removeClass=d,L.updateClass=f,L.selectClass=h,L.search=m,L.addNewMethod=g,L.removeMethod=p,L.updateMethod=v,L.addMethodAttribute=y,L.removeMethodAttribute=k,L.loginPrompt=i,L.logOut=r,L.sortMethodList=T,L.checkForEnter=w,L.setEditClassName=C,L.displayAddNewMethod=b,L.cancelMethodForm=M,L.resetMethodForm=F}angular.module("clickawiki").controller("mainController",e),e.$inject=["$timeout","constants","firebaseFactory","classFactory","methodFactory","helperFactory","authFactory"]}(),function(){function e(e,t){var a='<nav class="navbar navbar-default"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navcol-1" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand navbar-link" href="#">{{vm.headerTitle}}</a></div><div class="collapse navbar-collapse" id="navcol-1"><form class="navbar-form navbar-left" role="search"><div class="form-group"><div class="input-group"><input type="text" class="form-control" placeholder="Search" ng-model="vm.searchTerm"> <span class="input-group-btn"><button class="btn btn-default" type="button"><span class="glyphicon glyphicon-search" aria-hidden="true" ng-click="vm.search(vm.searchTerm)"></span></button></span></div></div></form><ul class="nav navbar-nav"><li ng-if="!vm.isLoggedIn"><a href="#" ng-click="vm.loginPrompt($event)">Log In</a></li><li ng-if="vm.isLoggedIn"><a href="#" ng-click="vm.logOut($event)">Log Out</a></li></ul></div></div></nav>',o={restrict:"EA",transclude:!0};return templateUrl=t.path.templatePath+"cwHeader.directive.html",t.useWebServer?o.templateUrl=templateUrl:o.template=a,o}angular.module("clickawiki").directive("cwHeader",e),e.$inject=["$compile","constants"]}(),function(){function e(){return console.log("in filter"),function(e,t){if(console.log("in filter"),!e)return e;if(!t)return e;var a=(""+t).toLowerCase(),o={};return angular.forEach(e,function(e,t){var n=(""+e).toLowerCase();-1!==n.indexOf(a)&&(o[t]=e)}),o}}angular.module("clickawiki").filter("methodFilter",e)}();