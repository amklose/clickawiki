!function(){angular.module("clickawiki",[])}(),function(){angular.module("clickawiki").constant("constants",{useWebServer:!1,firebaseURL:"https://apiwiki.firebaseio.com",headerTitle:"Clickawiki",defaultDeleteMessage:"Are you sure you want to delete this? ",types:["ArrayList","Boolean","Integer","Double","Number","Object","String","Void"],path:{templatePath:"/assets/templates/"},auth:{email:"admin@admin.com"},popUpDeleteSettings:{title:"Are you sure?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#5cb85c",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",closeOnConfirm:!1,closeOnCancel:!1},loginPromptSettings:{title:"Login",text:"Please provide your access code:",type:"input",inputType:"password",showCancelButton:!0,closeOnConfirm:!1,animation:"slide-from-top",inputValue:"click",inputPlaceholder:"Acess code..."}})}(),function(){function e(e,t){function o(){}function n(e){return e.unauth()}function a(t){return t===!1?!1:""===t?(swal.showInputError("You need to enter your access code!"),!1):(swal.close(),l(e.getRef(),null,t),void console.log("now loging in with access code: ",t))}function l(e,o,n,a){if(a)e.authWithCustomToken(a,i);else{o=o||t.auth.email;var l={};l.email=o,l.password=n,e.authWithPassword(l,i)}}function i(e,t){e&&(swal("Login Failure",e,"error"),console.log(e))}return{loginPrompt:a,getAuth:o,logout:n,login:l}}angular.module("clickawiki").factory("authFactory",e),e.$inject=["firebaseFactory","constants"]}(),function(){function e(){function e(e){return{name:e}}function t(t,o){t.push(e(o),a)}function o(e,t){e.child(t).remove(a)}function n(e,t,o){console.dir(o),e.child(t).update(o,a)}function a(e){return e?console.log(e):!0}return{addClass:t,removeClass:o,updateClass:n,makeNewClass:e}}angular.module("clickawiki").factory("classFactory",e),e.$inject=[]}(),function(){function e(e){function t(){return n}function o(e){n.set(e,function(e){return e||"complete"})}var n=new Firebase(e.firebaseURL);return{getRef:t,update:o}}angular.module("clickawiki").factory("firebaseFactory",e),e.$inject=["constants"]}(),function(){function e(e){function t(e){return e&&13===e.keyCode?!0:!1}function o(t,o,n){var a=e.popUpDeleteSettings;t=o?e.defaultDeleteMessage+"("+t+")":t,t=t||e.defaultDeleteMessage,a.text=t,swal(a,function(e){console.log(e,n),e?(swal("Deleted!","","success"),n(!0)):(swal("Cancelled","you've stopped it!","error"),n())})}return{checkForEnterPress:t,confirmDelete:o}}angular.module("clickawiki").factory("helperFactory",e),e.$inject=["constants"]}(),function(){function e(){function e(e,t,o){e.child(t).child("methods").push(o,n)}function t(e,t,o){e.child(t).child("methods").child(o).remove(n)}function o(e,t,o,a){console.log(e,t,a),e.child(t).child("methods").child(o).set(a,n)}function n(e){return e?console.log(e):!0}return{addMethod:e,removeMethod:t,updateMethod:o}}angular.module("clickawiki").factory("methodFactory",e),e.$inject=[]}(),function(){function e(e,t,o,n,a,l,i){function r(e){return e.preventDefault(),i.logout(A)}function c(e){e.preventDefault(),swal(t.loginPromptSettings,i.loginPrompt)}function s(t){e(function(){T.allClasses=t.val()||{}})}function u(e){e&&(n.addClass(A,e),T.newClassName="")}function d(e){function t(t){t&&e&&(n.removeClass(A,e),T.selectedClass=null)}l.confirmDelete("",!1,t)}function f(e){e&&e.val.name.length>0&&n.updateClass(A,e.key,e.val)}function m(e){console.log("Searching for '"+e+"'")}function p(e,t){T.formTitleText="New",T.selectedClass={},T.selectedClass.key=e,T.selectedClass.val=t,T.setEditClassName(!1),T.editModeActive=!1,F(),angular.element(document).find(".panel-collapse").removeClass("in")}function h(e){T.editModeActive?(T.editModeActive=!1,a.updateMethod(A,T.selectedClass.key,T.editMethodKey,e)):(a.addMethod(A,T.selectedClass.key,e),T.method={},T.method.returnType="Return type"),T.displayMethodForm=!1}function g(e,t){function o(t){t&&a.removeMethod(A,T.selectedClass.key,e)}t.stopPropagation(),e&&l.confirmDelete("","",o)}function v(e,t,o){o.stopPropagation(),T.displayMethodForm=!0,T.formTitleText="Edit",T.method=t,T.editModeActive=!0,T.editMethodKey=e}function y(){T.method.attributes=T.method.attributes||[],T.method.attributes.push({})}function w(e,t,o){e.preventDefault(),T.method.attributes&&T.method.attributes.splice(t,1)}function b(e,t,o){return l.checkForEnterPress(e)?o(t):!1}function k(e){return T.editClass=e}function C(){T.editModeActive=!1,T.formTitleText="New",F(),T.displayMethodForm=!T.displayMethodForm}function M(){T.displayMethodForm=!1,T.formTitleText="New",F()}function F(){T.method={},T.method.returnType="Return type",T.method.attributes=[],T.displayMethodForm=!1}var T=this,A=o.getRef();if(T.headerTitle=t.headerTitle,T.returnTypes=t.types,T.formTitleText="New",T.editModeActive=!1,T.isLoggedIn=!1,T.allClasses=[],A.on("value",s),A.onAuth(function(t){e(function(){T.isLoggedIn=t?!0:!1,localStorage&&t&&localStorage.setItem("cw_token",t.token)})}),localStorage&&localStorage.getItem("cw_token")){var P=localStorage.getItem("cw_token");i.login(A,null,null,P)}T.addNewClass=u,T.removeClass=d,T.updateClass=f,T.selectClass=p,T.search=m,T.addNewMethod=h,T.removeMethod=g,T.updateMethod=v,T.addMethodAttribute=y,T.removeMethodAttribute=w,T.checkForEnter=b,T.setEditClassName=k,T.displayAddNewMethod=C,T.cancelMethodForm=M,T.resetMethodForm=F,T.loginPrompt=c,T.logOut=r}angular.module("clickawiki").controller("mainController",e),e.$inject=["$timeout","constants","firebaseFactory","classFactory","methodFactory","helperFactory","authFactory"]}(),function(){function e(e,t){var o='<nav class="navbar navbar-default"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navcol-1" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand navbar-link" href="#">{{vm.headerTitle}}</a></div><div class="collapse navbar-collapse" id="navcol-1"><form class="navbar-form navbar-left" role="search"><div class="form-group"><div class="input-group"><input type="text" class="form-control" placeholder="Search" ng-model="vm.searchTerm"> <span class="input-group-btn"><button class="btn btn-default" type="button"><span class="glyphicon glyphicon-search" aria-hidden="true" ng-click="vm.search(vm.searchTerm)"></span></button></span></div></div></form><ul class="nav navbar-nav"><li ng-if="!vm.isLoggedIn"><a href="#" ng-click="vm.loginPrompt($event)">Log In</a></li><li ng-if="vm.isLoggedIn"><a href="#" ng-click="vm.logOut($event)">Log Out</a></li></ul></div></div></nav>',n={restrict:"EA",transclude:!0};return templateUrl=t.path.templatePath+"cwHeader.directive.html",t.useWebServer?n.templateUrl=templateUrl:n.template=o,n}angular.module("clickawiki").directive("cwHeader",e),e.$inject=["$compile","constants"]}(),function(){function e(){return console.log("in filter"),function(e,t){if(console.log("in filter"),!e)return e;if(!t)return e;var o=(""+t).toLowerCase(),n={};return angular.forEach(e,function(e,t){var a=(""+e).toLowerCase();-1!==a.indexOf(o)&&(n[t]=e)}),n}}angular.module("clickawiki").filter("methodFilter",e)}();