!function(){angular.module("clickawiki",[])}(),function(){angular.module("clickawiki").constant("constants",{useWebServer:!1,firebaseURL:"https://apiwiki.firebaseio.com",headerTitle:"Clickawiki",defaultDeleteMessage:"Are you sure you want to delete this? ",types:["ArrayList","Boolean","Character","Double","Integer","Number","Object","String","Void"],path:{templatePath:"/assets/templates/"},sortMessage:{"default":"",a:"ascending",d:"descending"},auth:{email:"admin@admin.com"},popUpDeleteSettings:{title:"Are you sure?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#5cb85c",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",closeOnConfirm:!1,closeOnCancel:!1},loginPromptSettings:{title:"Login",text:"Please provide your access code:",type:"input",inputType:"password",showCancelButton:!0,closeOnConfirm:!1,animation:"slide-from-top",inputValue:"click",inputPlaceholder:"Acess code..."}})}(),function(){function e(e,t,n){function o(){}function a(e){return t.remove("cw_token"),e.unauth()}function s(t){return t===!1?!1:""===t?(swal.showInputError("You need to enter your access code!"),!1):(swal.close(),void r(e.getRef(),null,t))}function r(e,t,o,a){if(a)e.authWithCustomToken(a,i);else{t=t||n.auth.email;var s={};s.email=t,s.password=o,e.authWithPassword(s,i)}}function i(e,t){e&&(swal("Login Failure",e,"error"),console.log(e))}return{loginPrompt:s,getAuth:o,logout:a,login:r}}angular.module("clickawiki").factory("authFactory",e),e.$inject=["firebaseFactory","storageFactory","constants"]}(),function(){function e(){function e(e){return{name:e}}function t(t,n){t.push(e(n),a)}function n(e,t){e.child(t).remove(a)}function o(e,t,n){e.child(t).update(n,a)}function a(e){return e?console.log(e):!0}return{addClass:t,removeClass:n,updateClass:o,makeNewClass:e}}angular.module("clickawiki").factory("classFactory",e),e.$inject=[]}(),function(){function e(e){function t(){return o}function n(e){o.set(e,function(e){return e||"complete"})}var o=new Firebase(e.firebaseURL);return{getRef:t,update:n}}angular.module("clickawiki").factory("firebaseFactory",e),e.$inject=["constants"]}(),function(){function e(e){function t(e){return e&&13===e.keyCode?!0:!1}function n(t,n,o){var a=e.popUpDeleteSettings;t=n?e.defaultDeleteMessage+"("+t+")":t,t=t||e.defaultDeleteMessage,a.text=t,swal(a,function(e){e?(swal("Deleted!","","success"),o(!0)):(swal("Cancelled","you've stopped it!","error"),o())})}function o(e,t){var n=[],o={};return angular.forEach(e,function(e,t){var n=e;e.key=t,this.push(n)},n),n.sort(function(e,n){if(e&&n&&e.name&&n.name){var o=e.name.toLowerCase(),a=n.name.toLowerCase();return"ascending"===t?a>o?-1:o>a?1:0:"descending"===t?o>a?-1:a>o?1:0:0}}),angular.forEach(n,function(e,t){o[t]=e}),o}return{checkForEnterPress:t,confirmDelete:n,sortList:o}}angular.module("clickawiki").factory("helperFactory",e),e.$inject=["constants"]}(),function(){function e(){function e(e,t,n){e.child(t).child("methods").push(n,o)}function t(e,t,n){e.child(t).child("methods").child(n).remove(o)}function n(e,t,n,a){e.child(t).child("methods").child(n).set(a,o)}function o(e){return e?console.log(e):!0}return{addMethod:e,removeMethod:t,updateMethod:n}}angular.module("clickawiki").factory("methodFactory",e),e.$inject=[]}(),function(){function e(){function e(e,t){return o?o.setItem(e,t):!1}function t(e){return o?o.getItem(e):!1}function n(e){return o?o.removeItem(e):!1}var o=localStorage||!1;return{set:e,get:t,remove:n}}angular.module("clickawiki").factory("storageFactory",e),e.$inject=["constants"]}(),function(){function e(e,t,n,o,a,s,r,i){function l(e){console.log(e)}function c(e){return e.preventDefault(),i.logout(D)}function u(e){e.preventDefault(),swal(n.loginPromptSettings,i.loginPrompt)}function d(t){e(function(){x.allClasses=t.val()||{},x.sortMessage&&x.sortMessage!==n.sortMessage["default"]&&A(x.sortMessage)})}function f(e){e&&(a.addClass(D,e),x.newClassName="")}function m(e){function t(t){t&&e&&(a.removeClass(D,e),x.selectedClass=null)}r.confirmDelete("",!1,t)}function h(e){e&&e.val.name.length>0&&a.updateClass(D,e.key,e.val)}function g(e){console.log("Searching for '"+e+"'")}function p(e,t){x.formTitleText="New",x.selectedClass={},x.selectedClass.key=e,x.selectedClass.val=t,x.setEditClassName(!1),x.editModeActive=!1,L(),angular.element(document).find(".panel-collapse").removeClass("in")}function v(e){x.editModeActive?(x.editModeActive=!1,s.updateMethod(D,x.selectedClass.key,x.editMethodKey,e)):(s.addMethod(D,x.selectedClass.key,e),x.method={},x.method.returnType="Return type"),x.displayMethodForm=!1}function y(e){function t(t){t&&s.removeMethod(D,x.selectedClass.key,e)}e&&r.confirmDelete("","",t)}function k(e,t){x.displayMethodForm=!0,x.formTitleText="Edit",x.method=t,x.editModeActive=!0,x.editMethodKey=e}function M(){x.method.attributes=x.method.attributes||[],x.method.attributes.push({})}function w(e,t,n){e.preventDefault(),x.method.attributes&&x.method.attributes.splice(t,1)}function C(e,t,n){return r.checkForEnterPress(e)?n(t):!1}function b(e){return x.editClass=e}function F(){x.editModeActive=!1,x.formTitleText="New",L(),x.displayMethodForm=!x.displayMethodForm}function T(){x.displayMethodForm=!1,x.formTitleText="New",L()}function L(){x.method={},x.method.returnType="Return type",x.method.attributes=[],x.displayMethodForm=!1}function A(e){var t=x.allClasses[x.selectedClass.key].methods;switch(e){case n.sortMessage["default"]:x.sortMessage=n.sortMessage["default"],D.once("value",d);break;case n.sortMessage.a:x.sortMessage=n.sortMessage.a,x.allClasses[x.selectedClass.key].methods=r.sortList(t,n.sortMessage.a);break;case n.sortMessage.d:x.sortMessage=n.sortMessage.d,x.allClasses[x.selectedClass.key].methods=r.sortList(t,n.sortMessage.d)}}var x=this,D=o.getRef();if(x.headerTitle=n.headerTitle,x.returnTypes=n.types,x.formTitleText="New",x.editModeActive=!1,x.isLoggedIn=!1,x.sortMessage=n.sortMessage["default"],x.allClasses=[],D.on("value",d),D.onAuth(function(n){e(function(){x.isLoggedIn=n?!0:!1,n&&t.set("cw_token",n.token)})}),t.get("cw_token")){var N=t.get("cw_token");i.login(D,null,null,N)}x.addNewClass=f,x.removeClass=m,x.updateClass=h,x.handleClassInfo=l,x.selectClass=p,x.search=g,x.addNewMethod=v,x.removeMethod=y,x.updateMethod=k,x.addMethodAttribute=M,x.removeMethodAttribute=w,x.loginPrompt=u,x.logOut=c,x.sortMethodList=A,x.checkForEnter=C,x.setEditClassName=b,x.displayAddNewMethod=F,x.cancelMethodForm=T,x.resetMethodForm=L}angular.module("clickawiki").controller("mainController",e),e.$inject=["$timeout","storageFactory","constants","firebaseFactory","classFactory","methodFactory","helperFactory","authFactory"]}(),function(){function e(e,t){var n='<nav class="navbar navbar-default"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navcol-1" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand navbar-link" href="#">{{vm.headerTitle}}</a></div><div class="collapse navbar-collapse" id="navcol-1"><form class="navbar-form navbar-left" role="search"><div class="form-group"><div class="input-group"><input type="text" class="form-control" placeholder="Search" ng-model="vm.searchTerm"> <span class="input-group-btn"><button class="btn btn-default" type="button"><span class="glyphicon glyphicon-search" aria-hidden="true" ng-click="vm.search(vm.searchTerm)"></span></button></span></div></div></form><ul class="nav navbar-nav"><li ng-if="!vm.isLoggedIn"><a href="#" ng-click="vm.loginPrompt($event)">Log In</a></li><li ng-if="vm.isLoggedIn"><a href="#" ng-click="vm.logOut($event)">Log Out</a></li></ul></div></div></nav>',o={restrict:"EA",transclude:!0};return templateUrl=t.path.templatePath+"cwHeader.directive.html",t.useWebServer?o.templateUrl=templateUrl:o.template=n,o}angular.module("clickawiki").directive("cwHeader",e),e.$inject=["$compile","constants"]}(),function(){function e(){return console.log("in filter"),function(e,t){if(console.log("in filter"),!e)return e;if(!t)return e;var n=(""+t).toLowerCase(),o={};return angular.forEach(e,function(e,t){var a=(""+e).toLowerCase();-1!==a.indexOf(n)&&(o[t]=e)}),o}}angular.module("clickawiki").filter("methodFilter",e)}();