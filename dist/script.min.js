!function(){angular.module("clickawiki",[])}(),function(){angular.module("clickawiki").constant("constants",{firebaseURL:"https://apiwiki.firebaseio.com",headerTitle:"Clickawiki",defaultDeleteMessage:"Are you sure you want to delete this? ",types:["ArrayList","Boolean","Integer","Double","Number","Object","String","Void"],path:{templatePath:"/assets/templates/"},auth:{email:"admin@admin.com"},popUpDeleteSettings:{title:"Are you sure?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#5cb85c",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",closeOnConfirm:!1,closeOnCancel:!1},loginPromptSettings:{title:"Login",text:"Please provide your access code:",type:"input",inputType:"password",showCancelButton:!0,closeOnConfirm:!1,animation:"slide-from-top",inputValue:"click",inputPlaceholder:"Acess code..."}})}(),function(){function e(e,t){function o(){}function n(e){return e.unauth()}function i(t){return t===!1?!1:""===t?(swal.showInputError("You need to enter your access code!"),!1):(swal.close(),l(e.getRef(),null,t),void console.log("now loging in with access code: ",t))}function l(e,o,n,i){if(i)e.authWithCustomToken(i,a);else{o=o||t.auth.email;var l={};l.email=o,l.password=n,e.authWithPassword(l,a)}}function a(e,t){e&&(swal("Login Failure",e,"error"),console.log(e))}return{loginPrompt:i,getAuth:o,logout:n,login:l}}angular.module("clickawiki").factory("authFactory",e),e.$inject=["firebaseFactory","constants"]}(),function(){function e(){function e(e){return{name:e}}function t(t,o){t.push(e(o),i)}function o(e,t){e.child(t).remove(i)}function n(e,t,o){console.dir(o),e.child(t).update(o,i)}function i(e){return e?console.log(e):!0}return{addClass:t,removeClass:o,updateClass:n,makeNewClass:e}}angular.module("clickawiki").factory("classFactory",e),e.$inject=[]}(),function(){function e(e){function t(){return n}function o(e){n.set(e,function(e){return e||"complete"})}var n=new Firebase(e.firebaseURL);return{getRef:t,update:o}}angular.module("clickawiki").factory("firebaseFactory",e),e.$inject=["constants"]}(),function(){function e(e){function t(e){return e&&13===e.keyCode?!0:!1}function o(t,o,n){var i=e.popUpDeleteSettings;t=o?e.defaultDeleteMessage+"("+t+")":t,t=t||e.defaultDeleteMessage,i.text=t,swal(i,function(e){console.log(e,n),e?(swal("Deleted!","","success"),n(!0)):(swal("Cancelled","you've stopped it!","error"),n())})}return{checkForEnterPress:t,confirmDelete:o}}angular.module("clickawiki").factory("helperFactory",e),e.$inject=["constants"]}(),function(){function e(){function e(e,t,o){e.child(t).child("methods").push(o,n)}function t(e,t,o){e.child(t).child("methods").child(o).remove(n)}function o(e,t,o,i){console.log(e,t,i),e.child(t).child("methods").child(o).set(i,n)}function n(e){return e?console.log(e):!0}return{addMethod:e,removeMethod:t,updateMethod:o}}angular.module("clickawiki").factory("methodFactory",e),e.$inject=[]}(),function(){function e(e,t,o,n,i,l,a){function c(e){return e.preventDefault(),a.logout(A)}function r(e){e.preventDefault(),swal(t.loginPromptSettings,a.loginPrompt)}function s(t){e(function(){console.log("handleDataUpdate() ",t.val()),b.allClasses=t.val()||{}})}function u(e){e&&(n.addClass(A,e),b.newClassName="")}function d(e){function t(t){t&&e&&(n.removeClass(A,e),b.selectedClass=null)}l.confirmDelete("",!1,t)}function f(e){e&&e.val.name.length>0&&n.updateClass(A,e.key,e.val)}function m(e){console.log("Searching for '"+e+"'")}function h(e,t){b.formTitleText="New",b.selectedClass={},b.selectedClass.key=e,b.selectedClass.val=t,b.setEditClassName(!1),b.editModeActive=!1,T(),angular.element(document).find(".panel-collapse").removeClass("in")}function p(e){console.log("editmode: ",b.editModeActive),b.editModeActive?(b.editModeActive=!1,i.updateMethod(A,b.selectedClass.key,b.editMethodKey,e)):(i.addMethod(A,b.selectedClass.key,e),b.method={},b.method.returnType="Return type"),b.displayMethodForm=!1}function g(e,t){function o(t){t&&i.removeMethod(A,b.selectedClass.key,e)}t.stopPropagation(),console.log(e,b.selectedClass),e&&l.confirmDelete("","",o)}function y(e,t,o){console.dir(t),o.stopPropagation(),b.displayMethodForm=!0,b.formTitleText="Edit",b.method=t,b.editModeActive=!0,b.editMethodKey=e}function w(){b.method.attributes=b.method.attributes||[],b.method.attributes.push({})}function k(e,t,o){e.preventDefault(),b.method.attributes&&b.method.attributes.splice(t,1)}function v(e,t,o){return l.checkForEnterPress(e)?o(t):!1}function C(e){return b.editClass=e}function M(){b.editModeActive=!1,b.formTitleText="New",T(),b.displayMethodForm=!b.displayMethodForm}function F(){b.displayMethodForm=!1,b.formTitleText="New",T()}function T(){b.method={},b.method.returnType="Return type",b.method.attributes=[],b.displayMethodForm=!1}var b=this,A=o.getRef();if(b.headerTitle=t.headerTitle,b.returnTypes=t.types,b.formTitleText="New",b.editModeActive=!1,b.isLoggedIn=!1,b.allClasses=[],A.on("value",s),A.onAuth(function(t){e(function(){console.log("checking auth: ",t),b.isLoggedIn=t?!0:!1,localStorage&&t&&localStorage.setItem("cw_token",t.token)})}),localStorage&&localStorage.getItem("cw_token")){var D=localStorage.getItem("cw_token");a.login(A,null,null,D)}b.addNewClass=u,b.removeClass=d,b.updateClass=f,b.selectClass=h,b.search=m,b.addNewMethod=p,b.removeMethod=g,b.updateMethod=y,b.addMethodAttribute=w,b.removeMethodAttribute=k,b.checkForEnter=v,b.setEditClassName=C,b.displayAddNewMethod=M,b.cancelMethodForm=F,b.resetMethodForm=T,b.loginPrompt=r,b.logOut=c}angular.module("clickawiki").controller("mainController",e),e.$inject=["$timeout","constants","firebaseFactory","classFactory","methodFactory","helperFactory","authFactory"]}(),function(){function e(e,t){var o={restrict:"EA",transclude:!0},n=t.path.templatePath+"cwHeader.directive.html";return n?o.templateUrl=n:o.template=template,o}angular.module("clickawiki").directive("cwHeader",e),e.$inject=["$compile","constants"]}(),function(){function e(){return console.log("in filter"),function(e,t){if(console.log("in filter"),!e)return e;if(!t)return e;var o=(""+t).toLowerCase(),n={};return angular.forEach(e,function(e,t){var i=(""+e).toLowerCase();-1!==i.indexOf(o)&&(n[t]=e)}),n}}angular.module("clickawiki").filter("methodFilter",e)}();