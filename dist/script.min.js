!function(){angular.module("clickawiki",[])}(),function(){angular.module("clickawiki").constant("constants",{useWebServer:!1,firebaseURL:"https://apiwiki.firebaseio.com",headerTitle:"Clickawiki",defaultDeleteMessage:"Are you sure you want to delete this? ",types:["ArrayList","Boolean","Integer","Double","Number","Object","String","Void"],path:{templatePath:"/assets/templates/"},auth:{email:"admin@admin.com"},popUpDeleteSettings:{title:"Are you sure?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#5cb85c",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",closeOnConfirm:!1,closeOnCancel:!1},loginPromptSettings:{title:"Login",text:"Please provide your access code:",type:"input",inputType:"password",showCancelButton:!0,closeOnConfirm:!1,animation:"slide-from-top",inputValue:"click",inputPlaceholder:"Acess code..."}})}(),function(){function e(e,t){function n(){}function a(e){return e.unauth()}function o(t){return t===!1?!1:""===t?(swal.showInputError("You need to enter your access code!"),!1):(swal.close(),void l(e.getRef(),null,t))}function l(e,n,a,o){if(o)e.authWithCustomToken(o,s);else{n=n||t.auth.email;var l={};l.email=n,l.password=a,e.authWithPassword(l,s)}}function s(e,t){e&&(swal("Login Failure",e,"error"),console.log(e))}return{loginPrompt:o,getAuth:n,logout:a,login:l}}angular.module("clickawiki").factory("authFactory",e),e.$inject=["firebaseFactory","constants"]}(),function(){function e(){function e(e){return{name:e}}function t(t,n){t.push(e(n),o)}function n(e,t){e.child(t).remove(o)}function a(e,t,n){e.child(t).update(n,o)}function o(e){return e?console.log(e):!0}return{addClass:t,removeClass:n,updateClass:a,makeNewClass:e}}angular.module("clickawiki").factory("classFactory",e),e.$inject=[]}(),function(){function e(e){function t(){return a}function n(e){a.set(e,function(e){return e||"complete"})}var a=new Firebase(e.firebaseURL);return{getRef:t,update:n}}angular.module("clickawiki").factory("firebaseFactory",e),e.$inject=["constants"]}(),function(){function e(e){function t(e){return e&&13===e.keyCode?!0:!1}function n(t,n,a){var o=e.popUpDeleteSettings;t=n?e.defaultDeleteMessage+"("+t+")":t,t=t||e.defaultDeleteMessage,o.text=t,swal(o,function(e){e?(swal("Deleted!","","success"),a(!0)):(swal("Cancelled","you've stopped it!","error"),a())})}return{checkForEnterPress:t,confirmDelete:n}}angular.module("clickawiki").factory("helperFactory",e),e.$inject=["constants"]}(),function(){function e(){function e(e,t,n){e.child(t).child("methods").push(n,a)}function t(e,t,n){e.child(t).child("methods").child(n).remove(a)}function n(e,t,n,o){e.child(t).child("methods").child(n).set(o,a)}function a(e){return e?console.log(e):!0}return{addMethod:e,removeMethod:t,updateMethod:n}}angular.module("clickawiki").factory("methodFactory",e),e.$inject=[]}(),function(){function e(e,t,n,a,o,l,s){function i(){console.log("sorting ascending!",A.allClasses)}function c(e){return e.preventDefault(),s.logout(x)}function r(e){e.preventDefault(),swal(t.loginPromptSettings,s.loginPrompt)}function u(t){e(function(){A.allClasses=t.val()||{}})}function d(e){e&&(a.addClass(x,e),A.newClassName="")}function m(e){function t(t){t&&e&&(a.removeClass(x,e),A.selectedClass=null)}l.confirmDelete("",!1,t)}function f(e){e&&e.val.name.length>0&&a.updateClass(x,e.key,e.val)}function p(e){console.log("Searching for '"+e+"'")}function h(e,t){A.formTitleText="New",A.selectedClass={},A.selectedClass.key=e,A.selectedClass.val=t,A.setEditClassName(!1),A.editModeActive=!1,T(),angular.element(document).find(".panel-collapse").removeClass("in")}function g(e){A.editModeActive?(A.editModeActive=!1,o.updateMethod(x,A.selectedClass.key,A.editMethodKey,e)):(o.addMethod(x,A.selectedClass.key,e),A.method={},A.method.returnType="Return type"),A.displayMethodForm=!1}function v(e,t){function n(t){t&&o.removeMethod(x,A.selectedClass.key,e)}t.stopPropagation(),e&&l.confirmDelete("","",n)}function y(e,t,n){n.stopPropagation(),A.displayMethodForm=!0,A.formTitleText="Edit",A.method=t,A.editModeActive=!0,A.editMethodKey=e}function k(){A.method.attributes=A.method.attributes||[],A.method.attributes.push({})}function w(e,t,n){e.preventDefault(),A.method.attributes&&A.method.attributes.splice(t,1)}function b(e,t,n){return l.checkForEnterPress(e)?n(t):!1}function C(e){return A.editClass=e}function M(){A.editModeActive=!1,A.formTitleText="New",T(),A.displayMethodForm=!A.displayMethodForm}function F(){A.displayMethodForm=!1,A.formTitleText="New",T()}function T(){A.method={},A.method.returnType="Return type",A.method.attributes=[],A.displayMethodForm=!1}var A=this,x=n.getRef();if(A.headerTitle=t.headerTitle,A.returnTypes=t.types,A.formTitleText="New",A.editModeActive=!1,A.isLoggedIn=!1,A.allClasses=[],x.on("value",u),x.onAuth(function(t){e(function(){A.isLoggedIn=t?!0:!1,localStorage&&t&&localStorage.setItem("cw_token",t.token)})}),localStorage&&localStorage.getItem("cw_token")){var P=localStorage.getItem("cw_token");s.login(x,null,null,P)}A.addNewClass=d,A.removeClass=m,A.updateClass=f,A.selectClass=h,A.search=p,A.addNewMethod=g,A.removeMethod=v,A.updateMethod=y,A.addMethodAttribute=k,A.removeMethodAttribute=w,A.loginPrompt=r,A.logOut=c,A.checkForEnter=b,A.setEditClassName=C,A.displayAddNewMethod=M,A.cancelMethodForm=F,A.resetMethodForm=T,A.sortMethodsAsc=i}angular.module("clickawiki").controller("mainController",e),e.$inject=["$timeout","constants","firebaseFactory","classFactory","methodFactory","helperFactory","authFactory"]}(),function(){function e(e){var t='<h4>Classes:</h4><ul class="list-group classes"><li ng-repeat="class in vm.allClasses track by $index" ng-class="{active: vm.selectedClass.key === class.key}" class="class-selector list-group-item" ng-click="vm.selectClass(class.key,class.val)"><span class="class-name">{{class.val.name}}</span></li></ul>',n={restict:"EA",transclude:!0};return templateUrl=e.path.templatePath+"cwClassBox.directive.html",e.useWebServer?n.templateUrl=templateUrl:n.template=t,n}angular.module("clickawiki").directive("cwClassBox",e),e.$inject=["constants"]}(),function(){function e(e,t){var n='<nav class="navbar navbar-default"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navcol-1" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand navbar-link" href="#">{{vm.headerTitle}}</a></div><div class="collapse navbar-collapse" id="navcol-1"><form class="navbar-form navbar-left" role="search"><div class="form-group"><div class="input-group"><input type="text" class="form-control" placeholder="Search" ng-model="vm.searchTerm"> <span class="input-group-btn"><button class="btn btn-default" type="button"><span class="glyphicon glyphicon-search" aria-hidden="true" ng-click="vm.search(vm.searchTerm)"></span></button></span></div></div></form><ul class="nav navbar-nav"><li ng-if="!vm.isLoggedIn"><a href="#" ng-click="vm.loginPrompt($event)">Log In</a></li><li ng-if="vm.isLoggedIn"><a href="#" ng-click="vm.logOut($event)">Log Out</a></li></ul></div></div></nav>',a={restrict:"EA",transclude:!0};return templateUrl=t.path.templatePath+"cwHeader.directive.html",t.useWebServer?a.templateUrl=templateUrl:a.template=n,a}angular.module("clickawiki").directive("cwHeader",e),e.$inject=["$compile","constants"]}(),function(){function e(){return console.log("in filter"),function(e,t){if(console.log("in filter"),!e)return e;if(!t)return e;var n=(""+t).toLowerCase(),a={};return angular.forEach(e,function(e,t){var o=(""+e).toLowerCase();-1!==o.indexOf(n)&&(a[t]=e)}),a}}angular.module("clickawiki").filter("methodFilter",e)}();