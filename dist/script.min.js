!function(){angular.module("clickawiki",[])}(),function(){angular.module("clickawiki").constant("constants",{useWebServer:!1,firebaseURL:"https://apiwiki.firebaseio.com",headerTitle:"Clickawiki",defaultDeleteMessage:"Are you sure you want to delete this? ",types:["ArrayList","Boolean","Integer","Double","Number","Object","String","Void"],path:{templatePath:"/assets/templates/"},auth:{email:"admin@admin.com"},popUpDeleteSettings:{title:"Are you sure?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#5cb85c",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",closeOnConfirm:!1,closeOnCancel:!1},loginPromptSettings:{title:"Login",text:"Please provide your access code:",type:"input",inputType:"password",showCancelButton:!0,closeOnConfirm:!1,animation:"slide-from-top",inputValue:"click",inputPlaceholder:"Acess code..."}})}(),function(){function e(e,t){function n(){}function o(e){return e.unauth()}function a(t){return t===!1?!1:""===t?(swal.showInputError("You need to enter your access code!"),!1):(swal.close(),void i(e.getRef(),null,t))}function i(e,n,o,a){if(a)e.authWithCustomToken(a,l);else{n=n||t.auth.email;var i={};i.email=n,i.password=o,e.authWithPassword(i,l)}}function l(e,t){e&&(swal("Login Failure",e,"error"),console.log(e))}return{loginPrompt:a,getAuth:n,logout:o,login:i}}angular.module("clickawiki").factory("authFactory",e),e.$inject=["firebaseFactory","constants"]}(),function(){function e(){function e(e){return{name:e}}function t(t,n){t.push(e(n),a)}function n(e,t){e.child(t).remove(a)}function o(e,t,n){e.child(t).update(n,a)}function a(e){return e?console.log(e):!0}return{addClass:t,removeClass:n,updateClass:o,makeNewClass:e}}angular.module("clickawiki").factory("classFactory",e),e.$inject=[]}(),function(){function e(e){function t(){return o}function n(e){o.set(e,function(e){return e||"complete"})}var o=new Firebase(e.firebaseURL);return{getRef:t,update:n}}angular.module("clickawiki").factory("firebaseFactory",e),e.$inject=["constants"]}(),function(){function e(e){function t(e){return e&&13===e.keyCode?!0:!1}function n(t,n,o){var a=e.popUpDeleteSettings;t=n?e.defaultDeleteMessage+"("+t+")":t,t=t||e.defaultDeleteMessage,a.text=t,swal(a,function(e){e?(swal("Deleted!","","success"),o(!0)):(swal("Cancelled","you've stopped it!","error"),o())})}return{checkForEnterPress:t,confirmDelete:n}}angular.module("clickawiki").factory("helperFactory",e),e.$inject=["constants"]}(),function(){function e(){function e(e,t,n){e.child(t).child("methods").push(n,o)}function t(e,t,n){e.child(t).child("methods").child(n).remove(o)}function n(e,t,n,a){e.child(t).child("methods").child(n).set(a,o)}function o(e){return e?console.log(e):!0}return{addMethod:e,removeMethod:t,updateMethod:n}}angular.module("clickawiki").factory("methodFactory",e),e.$inject=[]}(),function(){function e(e,t,n,o,a,i,l){function r(e){return e.preventDefault(),l.logout(A)}function c(e){e.preventDefault(),swal(t.loginPromptSettings,l.loginPrompt)}function s(t){e(function(){T.allClasses=t.val()||{}})}function u(e){e&&(o.addClass(A,e),T.newClassName="")}function d(e){function t(t){t&&e&&(o.removeClass(A,e),T.selectedClass=null)}i.confirmDelete("",!1,t)}function f(e){e&&e.val.name.length>0&&o.updateClass(A,e.key,e.val)}function m(e){console.log("Searching for '"+e+"'")}function p(e,t){T.formTitleText="New",T.selectedClass={},T.selectedClass.key=e,T.selectedClass.val=t,T.setEditClassName(!1),T.editModeActive=!1,F(),angular.element(document).find(".panel-collapse").removeClass("in")}function h(e){T.editModeActive?(T.editModeActive=!1,a.updateMethod(A,T.selectedClass.key,T.editMethodKey,e)):(a.addMethod(A,T.selectedClass.key,e),T.method={},T.method.returnType="Return type"),T.displayMethodForm=!1}function g(e,t){function n(t){t&&a.removeMethod(A,T.selectedClass.key,e)}t.stopPropagation(),e&&i.confirmDelete("","",n)}function v(e,t,n){n.stopPropagation(),T.displayMethodForm=!0,T.formTitleText="Edit",T.method=t,T.editModeActive=!0,T.editMethodKey=e}function y(){T.method.attributes=T.method.attributes||[],T.method.attributes.push({})}function w(e,t,n){e.preventDefault(),T.method.attributes&&T.method.attributes.splice(t,1)}function b(e,t,n){return i.checkForEnterPress(e)?n(t):!1}function k(e){return T.editClass=e}function C(){T.editModeActive=!1,T.formTitleText="New",F(),T.displayMethodForm=!T.displayMethodForm}function M(){T.displayMethodForm=!1,T.formTitleText="New",F()}function F(){T.method={},T.method.returnType="Return type",T.method.attributes=[],T.displayMethodForm=!1}var T=this,A=n.getRef();if(T.headerTitle=t.headerTitle,T.returnTypes=t.types,T.formTitleText="New",T.editModeActive=!1,T.isLoggedIn=!1,T.allClasses=[],A.on("value",s),A.onAuth(function(t){e(function(){T.isLoggedIn=t?!0:!1,localStorage&&t&&localStorage.setItem("cw_token",t.token)})}),localStorage&&localStorage.getItem("cw_token")){var P=localStorage.getItem("cw_token");l.login(A,null,null,P)}T.addNewClass=u,T.removeClass=d,T.updateClass=f,T.selectClass=p,T.search=m,T.addNewMethod=h,T.removeMethod=g,T.updateMethod=v,T.addMethodAttribute=y,T.removeMethodAttribute=w,T.checkForEnter=b,T.setEditClassName=k,T.displayAddNewMethod=C,T.cancelMethodForm=M,T.resetMethodForm=F,T.loginPrompt=c,T.logOut=r,T.filterSecId=function(e){var t={};return angular.forEach(e,function(e,n){e.hasOwnProperty("name")||(t[n]=e)}),t}}angular.module("clickawiki").controller("mainController",e),e.$inject=["$timeout","constants","firebaseFactory","classFactory","methodFactory","helperFactory","authFactory"]}(),function(){function e(e,t){var n='<nav class="navbar navbar-default"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navcol-1" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand navbar-link" href="#">{{vm.headerTitle}}</a></div><div class="collapse navbar-collapse" id="navcol-1"><form class="navbar-form navbar-left" role="search"><div class="form-group"><div class="input-group"><input type="text" class="form-control" placeholder="Search" ng-model="vm.searchTerm"> <span class="input-group-btn"><button class="btn btn-default" type="button"><span class="glyphicon glyphicon-search" aria-hidden="true" ng-click="vm.search(vm.searchTerm)"></span></button></span></div></div></form><ul class="nav navbar-nav"><li ng-if="!vm.isLoggedIn"><a href="#" ng-click="vm.loginPrompt($event)">Log In</a></li><li ng-if="vm.isLoggedIn"><a href="#" ng-click="vm.logOut($event)">Log Out</a></li></ul></div></div></nav>',o={restrict:"EA",transclude:!0};return templateUrl=t.path.templatePath+"cwHeader.directive.html",t.useWebServer?o.templateUrl=templateUrl:o.template=n,o}angular.module("clickawiki").directive("cwHeader",e),e.$inject=["$compile","constants"]}(),function(){function e(){return console.log("in filter"),function(e,t){if(console.log("in filter"),!e)return e;if(!t)return e;var n=(""+t).toLowerCase(),o={};return angular.forEach(e,function(e,t){var a=(""+e).toLowerCase();-1!==a.indexOf(n)&&(o[t]=e)}),o}}angular.module("clickawiki").filter("methodFilter",e)}();